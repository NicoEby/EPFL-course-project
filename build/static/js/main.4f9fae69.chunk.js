(window.webpackJsonpdoodle=window.webpackJsonpdoodle||[]).push([[0],{108:function(e,t,n){e.exports=n(204)},113:function(e,t,n){},118:function(e,t){},120:function(e,t){},154:function(e,t){},155:function(e,t){},202:function(e){e.exports=JSON.parse('{"startText":"Oh hi there! Do you wanna play a game? Press the button!","roundText":"Quick, before the time elapses. Draw a ","roundWin":"What a drawing Player. Good job!","roundLoss":"You are tearing me apart Player...","gameEven":"Wow... that was unexpectedly average :P","gameWon":"You did it Good job!","gameLoss":"Come on... I know you can do better."}')},203:function(e){e.exports=JSON.parse('["bird","book","car","cat","chair","flower","plane","sheep","ship","strawberry"]')},204:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(104),c=n.n(o);n(113),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(21),i=n(22),l=n(24),s=n(23),d=n(25),m=n(15);function f(e){var t=e.theCanvas;e.model,e.labels;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){var e=t.current;e.getContext("2d").fillRect(0,0,e.height,e.width)}},"Clear the canvas."))}var p=n(61),h=n.n(p),v=n(105),b=n(35);function g(e,t){var n,r=(n=e.current,b.b(n).resizeNearestNeighbor([28,28]).mean(2).expandDims(2).expandDims().toFloat().div(255));return t.then(function(e){return e.predict(r).data()}).then(function(){var e=Object(v.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a(t).data();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}var y=a.a.forwardRef(function(e,t){var n,o,c=e.model,u=e.labels,i=e.question,l=e.correctAnswer,s=!1;return Object(r.useEffect)(function(){var e=t.current,n=e.getContext("2d");n.fillStyle="#ffffff",n.fillRect(0,0,e.height,e.width)}),a.a.createElement("canvas",{height:300,width:300,ref:t,onMouseDown:function(){return s=!0},onMouseUp:function(){s=!1,n=void 0,o=void 0,g(t,c).then(function(e){u[e[0]]===i&&l()})},onMouseMove:function(e){return function(e){var t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;if(s){var c=function(e,t,n,r,a){var o=e.getContext("2d");return o.strokeStyle="#000000",o.lineWidth=12,o.lineJoin="round",o.beginPath(),o.moveTo(r,a),o.lineTo(t,n),o.closePath(),o.stroke(),[t,n]}(e.target,r,a,n,o),u=Object(m.a)(c,2);n=u[0],o=u[1]}}(e)}})}),E=n(44),w=n(17),j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(E.a)(n)),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"handleClick",value:function(e){this.props.handleClick()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){e.nextPath("/game"),e.handleClick()}},"Start Game"))}}]),t}(a.a.Component),O=Object(w.e)(j);function k(e,t){switch(t.type){case"reset":return 20;case"countDown":return e-1;default:return}}function R(e){var t=Object(r.useReducer)(k,20),n=Object(m.a)(t,2),o=n[0],c=n[1],u=e.roundActive;return Object(r.useEffect)(function(){c({type:"reset"})},[u,e]),function(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e}),Object(r.useEffect)(function(){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}},[t])}(function(){o>0&&c({type:"countDown"})},1e3),0===o&&(e.handleTimeUp(),c({type:"reset"})),a.a.createElement("label",null,"Time Remaining: ",o)}var C=n(64),x=n.n(C),P=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e={strings:this.props.strings,typeSpeed:50,showCursor:!1};this.typed=new x.a(this.el,e)}},{key:"componentDidUpdate",value:function(e){if(this.props.strings!==e.strings){this.typed.destroy();var t={strings:this.props.strings,typeSpeed:50,showCursor:!1};this.typed=new x.a(this.el,t)}}},{key:"componentWillUnmount",value:function(){this.typed.destroy()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"type-wrap"},a.a.createElement("span",{style:{whiteSpace:"pre"},ref:function(t){e.el=t}}))}}]),t}(r.Component),S=n(202);function W(){var e=Object(r.useContext)(A),t=e.gameRound,n=e.label,o=e.roundWin,c=e.score,u=N(t);return a.a.createElement("div",null,function(){switch(u){case"init":return S.startText;case"game":var e="";return e=o?a.a.createElement("div",null,a.a.createElement(P,{strings:[S.roundWin]}),a.a.createElement("br",null)," "):a.a.createElement("div",null,a.a.createElement(P,{strings:[S.roundLoss]}),a.a.createElement("br",null)," "),"undefined"===typeof o&&(e=a.a.createElement("div",null,a.a.createElement("br",null),a.a.createElement("br",null))),a.a.createElement("div",null,e," ",S.roundText,a.a.createElement("b",null,n),"!");case"end":var t="";return t=0===c?S.gameEven:c>0?S.gameWin:S.gameLoss,a.a.createElement("div",null,"Your Final Score: "+c.score," ",a.a.createElement("br",null)," ",t," ");default:return}}())}var D=n(203),T=a.a.createRef(),I=10,A=a.a.createContext();function N(e){return 0===e?"init":e===I+1?"end":"game"}function G(e,t){switch(t.type){case"increment":return e+1;case"decrement":return e-1;case"reset":return 0;default:throw new Error}}function J(e,t){switch(t.type){case"nextRound":return e+1;case"init":case"reset":return 0;default:return}}function M(e,t){switch(t.type){case"roundActive":return!0;case"roundInactive":return!1;default:return}}function U(e){var t=e.model,n=e.gameRoundProp,o=Object(r.useReducer)(J,0),c=Object(m.a)(o,2),u=c[0],i=c[1],l=Object(r.useReducer)(G,0),s=Object(m.a)(l,2),d=s[0],p=s[1],h=Object(r.useReducer)(M,!1),v=Object(m.a)(h,2),b=v[0],g=v[1],E=Object(r.useState)(),w=Object(m.a)(E,2),j=w[0],k=w[1],C=Object(r.useState)(),x=Object(m.a)(C,2),P=x[0],S=x[1];function U(e){L()}function L(){u<=I&&(g({type:"roundActive"}),i({type:"nextRound"}),k(D[u]))}function Y(){S(!0),p({type:"increment"}),g({type:"roundInactive"}),L()}function B(){S(!1),p({type:"decrement"}),g({type:"roundInactive"}),L()}console.log("GameRound: "+u),Object(r.useEffect)(function(){0===n.gameRound?i({type:"init"}):1===n.gameRound&&(n.gameRound=void 0,p({type:"reset"}),i({type:"reset"}),S(void 0),L())},[n.gameRound]);var q=N(u);return a.a.createElement(A.Provider,{value:{gameRound:u,label:D[u-1],roundWin:P,score:{score:d}}},a.a.createElement(W,null),function(){switch(q){case"init":return a.a.createElement(O,{handleClick:U});case"game":return a.a.createElement("div",null,a.a.createElement(R,{roundActive:b,handleTimeUp:B}),a.a.createElement("label",null," Round: ",u," Score: ",d),a.a.createElement("br",null),a.a.createElement(y,{ref:T,model:t,labels:D,question:j,correctAnswer:Y}),a.a.createElement(f,{theCanvas:T,model:t,labels:D}));case"end":return a.a.createElement("div",null);default:return}}())}var L=n(34),Y=b.c("./model/model.json"),B=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(L.a,null,a.a.createElement(L.b,{to:"/home"},"Home"),a.a.createElement(L.b,{to:"/game"},"New Game"),a.a.createElement(w.a,{path:"/home",render:function(e){return a.a.createElement(U,Object.assign({},e,{model:Y,gameRoundProp:{gameRound:0}}))}}),a.a.createElement(w.a,{path:"/game",render:function(e){return a.a.createElement(U,Object.assign({},e,{model:Y,gameRoundProp:{gameRound:1}}))}}))}}]),t}(a.a.Component);c.a.render(a.a.createElement("div",null,a.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,1,2]]]);
//# sourceMappingURL=main.4f9fae69.chunk.js.map